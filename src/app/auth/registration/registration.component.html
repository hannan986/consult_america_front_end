<div fxLayout="row" fxLayoutAlign="center stretch" class="register-container">
  <mat-card fxFlex="100%" fxFlex.xs="90%" fxFlex.sm="60%" fxFlex.md="40%" class="register-card">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">

      <h2 class="title" align="center">Sign Up</h2>

      <!-- Full Name -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Full Name</mat-label>
        <input matInput formControlName="name" placeholder="Enter your full name" />
        <mat-error *ngIf="f['name'].hasError('required')">Full Name is required</mat-error>
      </mat-form-field>

      <!-- Email -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="example@mail.com" type="email" />
        <mat-error *ngIf="f['email'].hasError('required')">Email is required</mat-error>
        <mat-error *ngIf="f['email'].hasError('email')">Enter a valid email</mat-error>
        <mat-error *ngIf="f['email'].hasError('emailExists')">This email is already registered</mat-error>
      </mat-form-field>

      <!-- Password -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Password</mat-label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="********" />
        <button mat-icon-button matSuffix (click)="hide = !hide" type="button">
          <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="f['password'].hasError('required')">Password is required</mat-error>
        <mat-error *ngIf="f['password'].hasError('minlength')">Minimum 6 characters required</mat-error>
      </mat-form-field>

      <!-- Role -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Select Role</mat-label>
        <mat-select formControlName="role">
          <mat-option value="ADMIN">Admin</mat-option>
          <mat-option value="EMPLOYEE">Employee</mat-option>
          <mat-option value="CANDIDATE">Candidate</mat-option>
        </mat-select>
        <mat-error *ngIf="f['role'].hasError('required')">Role selection is required</mat-error>
      </mat-form-field>

      <!-- Submit -->
      <div class="form-actions">
        <button mat-raised-button color="primary" type="submit" [disabled]="registerForm.invalid">
          Register
        </button>
      </div>

      <!-- Error -->
      <div *ngIf="error" class="error-message">
        {{ error }}
      </div>

      <!-- Already registered -->
      <div class="login-link">
        Already have an account? <a routerLink="/login">Sign In</a>
      </div>
    </form>
  </mat-card>
</div>
